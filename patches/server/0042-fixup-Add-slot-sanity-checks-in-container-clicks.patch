From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Nassim Jahnke <nassim@njahnke.dev>
Date: Sun, 26 Nov 2023 17:27:46 -0300
Subject: [PATCH] fixup! Add slot sanity checks in container clicks


diff --git a/src/main/java/net/minecraft/world/inventory/AbstractContainerMenu.java b/src/main/java/net/minecraft/world/inventory/AbstractContainerMenu.java
index f664da5a8413bb13cc95d2cf1604f11a5d285dae..82f18790b9dc55b039ae03600a80a46d56a87521 100644
--- a/src/main/java/net/minecraft/world/inventory/AbstractContainerMenu.java
+++ b/src/main/java/net/minecraft/world/inventory/AbstractContainerMenu.java
@@ -598,7 +598,7 @@ public abstract class AbstractContainerMenu {
                 Slot slot2;
                 int j2;
 
-                if (actionType == ClickType.SWAP) {
+                if (actionType == ClickType.SWAP && (button == 40 || button >= 0 && button < 9)) { // Paper
                     if (slotIndex < 0 || button < 0) return; // Paper
                     slot2 = (Slot) this.slots.get(slotIndex);
                     itemstack1 = playerinventory.getItem(button);
